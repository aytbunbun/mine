(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(85)}])},85:function(e,t,n){"use strict";n.r(t);var l=n(5893),r=n(7294),i=n(2729),o=n.n(i);let a=()=>{let e;let t=[[-1,0],[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1]],[n,i]=(0,r.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),[a,s]=(0,r.useState)([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),f=JSON.parse(JSON.stringify(n)),c=0,_=0;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===n[e][t]&&_++;f.some(e=>e.includes(1))?(e=!0,c=0):e=!1;let d=Array.from({length:9},()=>Array(9).fill(-1)),u=(e,t)=>{let n=Math.floor(9*Math.random()),l=Math.floor(9*Math.random());n===e&&l===t?u(e,t):0===a[n][l]?(a[n][l]=1,s(a)):u(e,t)},m=(e,l)=>{let r=(e,n)=>{if(0===d[e][n])for(let l=0;l<t.length;l++){let i=e+t[l][0],s=n+t[l][1];i<0||i>8||s<0||s>8||0!==o[i][s]||0!==a[i][s]||(o[i][s]=1,N(),r(i,s))}};if(1===a[e][l])return;let o=[...n];r(e,l),i([...o])},x=()=>{71===_&&(c=1)},h=()=>{c=2},N=()=>{for(let e=0;e<9;e++)for(let l=0;l<9;l++)if(1===n[e][l]){if(1===a[e][l]){d[e][l]=11;for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===a[e][t]&&(d[e][t]=11);h();continue}if(9===n[e][l]){d[e][l]=9;continue}if(10===n[e][l]){d[e][l]=10;continue}let r=0;for(let n=0;n<t.length;n++){let i=e+t[n][0],o=l+t[n][1];i<0||i>8||o<0||o>8||1!==a[i][o]||r++}d[e][l]=r}x()},b=()=>{i([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),s([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]),c=0},g=(e,l)=>{let r=Array.from({length:9},()=>Array(9).fill(0)),o=d[e][l],a=0;for(let i=0;i<8;i++){let o=e+t[i][0],s=l+t[i][1];o<0||o>8||s<0||s>8||(10===n[o][s]?a++:0===n[o][s]&&(r[o][s]=1))}if(o!==a)return;let s=[...n];for(let e=0;e<9;e++)for(let t=0;t<9;t++)1===r[e][t]&&(s[e][t]=1),i([...s]),N();for(let e=0;e<9;e++)for(let t=0;t<9;t++)0===d[e][t]&&m(e,t)},v=(t,l,r)=>{if(r.preventDefault(),9===n[l][t]||10===n[l][t]||1===c||2===c)return;if(1===n[l][t]){g(l,t);return}if(!e)for(let e=0;e<10;e++)u(l,t);let o=[...n];o[l][t]=1,i(o),N(),0===d[l][t]&&m(l,t)},k=(e,t,l)=>{if(l.preventDefault(),1===c||2===c)return;let r=[...n];if(10===n[t][e])r[t][e]=9;else if(9===n[t][e])r[t][e]=0;else{if(0!==n[t][e])return;r[t][e]=10}i(r),N()};return N(),(0,l.jsx)("div",{className:o().container,children:(0,l.jsxs)("div",{className:o().board,children:[(0,l.jsx)("header",{className:o().header,children:(0,l.jsx)("button",{className:o()["reset-button"],onClick:b,style:{backgroundPosition:0===c?96:97-33*c}})}),(0,l.jsx)("div",{className:o().main,children:d.map((e,t)=>e.map((e,r)=>(0,l.jsx)("div",{className:o().cell,onClick:e=>v(r,t,e),onContextMenu:e=>k(r,t,e),children:0!==e&&(0,l.jsxs)("div",{className:o().tile,style:{backgroundPosition:-30*(d[t][r]-1)},children:[0===e&&(0,l.jsx)("div",{className:o().tile}),(0===n[t][r]||9===n[t][r]||10===n[t][r])&&(0,l.jsx)("div",{className:o().stone,children:(9===n[t][r]||10===n[t][r])&&(0,l.jsx)("div",{className:o().flag,style:{backgroundPosition:-30*(n[t][r]-1)}})})]})},"".concat(r,"-").concat(t))))})]})})};t.default=a},2729:function(e){e.exports={board:"index_board__2d6xe",header:"index_header__A7Bm0",bombcount:"index_bombcount__9ozLl","reset-button":"index_reset-button__5okxv",container:"index_container__gnN1f",main:"index_main__kAcUb",cell:"index_cell__3W8ZQ",tile:"index_tile__BL_fN",stone:"index_stone__oeDmm",flag:"index_flag__Bsg_z"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);